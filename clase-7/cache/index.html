<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo Cach√© API</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    #result {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
    }

    .cached {
      color: green;
    }

    .fresh {
      color: blue;
    }
  </style>

</head>

<body>
  <h1>üåê Demo Cach√© con API + UI</h1>

  <input type="number" id="inputId" placeholder="Ingrese un ID" />
  <button id="btnFetch">Consultar</button>

  <div id="result">Esperando consulta...</div>

  <script>
    const btn = document.getElementById("btnFetch");
    const result = document.getElementById("result");

    btn.addEventListener("click", async () => {
      const id = document.getElementById("inputId").value;
      if (!id) return alert("Ingrese un ID");

      result.textContent = "‚è≥ Consultando...";
      const res = await fetch(`http://localhost:4000/data/${id}`);
      const data = await res.json();

      result.innerHTML = `
        <p><strong>ID:</strong> ${data.id}</p>
        <p><strong>Texto:</strong> ${data.text}</p>
        <p><strong>Hora:</strong> ${data.time}</p>
        <p class="${data.cached ? "cached" : "fresh"}">
          ${data.cached ? "üì¶ Desde cach√©" : "‚öôÔ∏è Fuente lenta"}
        </p>
      `;
    });
  </script>
</body>

</html>